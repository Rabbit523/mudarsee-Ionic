<ion-header>
  <ion-navbar color="primary">
    <ion-title>{{'add_tutor_exp.title'|translate}}</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
  <form [formGroup]="experienceForm" novalidate (ngSubmit)="(experienceForm.valid && submitted) && addExperience()">
    <ion-list>
      <ion-item>
        <ion-label floating>{{'add_tutor_exp.company'|translate}}</ion-label>
        <ion-input type="text" [(ngModel)]="experienceData.company" formControlName="company"></ion-input>
        <ion-icon class="validation-icon" *ngIf="!experienceForm.controls.company.pristine || submitted" [name]="(!experienceForm.controls.company.valid && (experienceForm.controls.company.dirty || submitted)) ? 'warning' : 'done-all'" [color]="(!experienceForm.controls.company.valid && (experienceForm.controls.company.dirty || submitted)) ? 'danger' : 'valid'" item-right></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label floating>{{'add_tutor_exp.role'|translate}}</ion-label>
        <ion-input type="text" [(ngModel)]="experienceData.role" formControlName="role"></ion-input>
        <ion-icon class="validation-icon" *ngIf="!experienceForm.controls.role.pristine || submitted" [name]="(!experienceForm.controls.role.valid && (experienceForm.controls.role.dirty || submitted)) ? 'warning' : 'done-all'" [color]="(!experienceForm.controls.role.valid && (experienceForm.controls.role.dirty || submitted)) ? 'danger' : 'valid'" item-right></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label floating>{{'add_tutor_exp.desc'|translate}}</ion-label>
        <ion-textarea [(ngModel)]="experienceData.description" formControlName="description"></ion-textarea>
        <ion-icon class="validation-icon" *ngIf="!experienceForm.controls.description.pristine || submitted" [name]="(!experienceForm.controls.description.valid && (experienceForm.controls.description.dirty || submitted)) ? 'warning' : 'done-all'" [color]="(!experienceForm.controls.description.valid && (experienceForm.controls.description.dirty || submitted)) ? 'danger' : 'valid'" item-right></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label floating>{{'add_tutor_exp.from'|translate}}</ion-label>
        <ion-datetime displayFormat="MMMM YYYY" pickerFormat="MMMM YYYY" max="{{maxDate}}" formControlName="from_date" [(ngModel)]="experienceData.from_date"></ion-datetime>
        <ion-icon class="validation-icon" *ngIf="!experienceForm.controls.from_date.pristine || submitted" [name]="(!experienceForm.controls.from_date.valid && (experienceForm.controls.from_date.dirty || submitted)) ? 'warning' : 'done-all'" [color]="(!experienceForm.controls.from_date.valid && (experienceForm.controls.from_date.dirty || submitted)) ? 'danger' : 'valid'" item-right></ion-icon>
      </ion-item>
      <ion-item>
        <ion-label floating>{{'add_tutor_exp.to'|translate}}</ion-label>
        <ion-datetime displayFormat="MMMM YYYY" pickerFormat="MMMM YYYY" max="{{maxDate}}" formControlName="to_date" [(ngModel)]="experienceData.to_date"></ion-datetime>
        <ion-icon class="validation-icon" *ngIf="!experienceForm.controls.to_date.pristine || submitted" [name]="(!experienceForm.controls.to_date.valid && (experienceForm.controls.to_date.dirty || submitted)) ? 'warning' : 'done-all'" [color]="(!experienceForm.controls.to_date.valid && (experienceForm.controls.to_date.dirty || submitted)) ? 'danger' : 'valid'" item-right></ion-icon>
      </ion-item>
    </ion-list>
    <div padding>
      <button ion-button block round color="danger" type="submit" (click)="submitted=true">{{'add_tutor_exp.save'|translate}}</button>
    </div>
  </form>
</ion-content>
